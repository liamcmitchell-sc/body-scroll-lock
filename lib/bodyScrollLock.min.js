!function(e,o){if("function"==typeof define&&define.amd)define(["exports"],o);else if("undefined"!=typeof exports)o(exports);else{var t={};o(t),e.bodyScrollLock=t}}(this,function(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=!1;if("undefined"!=typeof window){var e={get passive(){n=!0}};window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}var i="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iPad|iPhone|iPod|(iPad Simulator)|(iPhone Simulator)|(iPod Simulator)/.test(window.navigator.platform),d=[],l=!1,u=-1,c=void 0,a=void 0,s=function(e){var o=e||window.event;return 1<o.touches.length||(o.preventDefault&&o.preventDefault(),!1)},t=function(){setTimeout(function(){void 0!==a&&(document.body.style.paddingRight=a,a=void 0),void 0!==c&&(document.body.style.overflow=c,c=void 0)})};exports.disableBodyScroll=function(r,e){var t;i?r&&!d.includes(r)&&(d=[].concat(function(e){if(Array.isArray(e)){for(var o=0,t=Array(e.length);o<e.length;o++)t[o]=e[o];return t}return Array.from(e)}(d),[r]),r.ontouchstart=function(e){1===e.targetTouches.length&&(u=e.targetTouches[0].clientY)},r.ontouchmove=function(e){var o,t,n,i;1===e.targetTouches.length&&(t=r,i=(o=e).targetTouches[0].clientY-u,t&&0===t.scrollTop&&0<i?s(o):(n=t)&&n.scrollHeight-n.scrollTop<=n.clientHeight&&i<0?s(o):o.stopPropagation())},l||(document.addEventListener("touchmove",s,n?{passive:!1}:void 0),l=!0)):(t=e,setTimeout(function(){if(void 0===a){var e=!!t&&!0===t.reserveScrollBarGap,o=window.innerWidth-document.documentElement.clientWidth;e&&0<o&&(a=document.body.style.paddingRight,document.body.style.paddingRight=o+"px")}void 0===c&&(c=document.body.style.overflow,document.body.style.overflow="hidden")}),d.push(r))},exports.clearAllBodyScrollLocks=function(){i?(d.forEach(function(e){e.ontouchstart=null,e.ontouchmove=null}),l&&(document.removeEventListener("touchmove",s,n?{passive:!1}:void 0),l=!1),d=[],u=-1):(t(),d=[])},exports.enableBodyScroll=function(o){i?(o.ontouchstart=null,o.ontouchmove=null,d=d.filter(function(e){return e!==o}),l&&0===d.length&&(document.removeEventListener("touchmove",s,n?{passive:!1}:void 0),l=!1)):1===d.length&&d[0]===o?(t(),d=[]):d=d.filter(function(e){return e===o})}});
